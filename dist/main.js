(()=>{"use strict";function e(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function t(t){e(1,arguments);var n=Object.prototype.toString.call(t);return t instanceof Date||"object"==typeof t&&"[object Date]"===n?new Date(t.getTime()):"number"==typeof t||"[object Number]"===n?new Date(t):("string"!=typeof t&&"[object String]"!==n||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function n(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function s(n){e(1,arguments);var s=t(n);return s.setHours(0,0,0,0),s}var o=864e5;function r(t,r){e(2,arguments);var a=s(t),l=s(r),i=a.getTime()-n(a),d=l.getTime()-n(l);return Math.round((i-d)/o)}function a(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function l(n,s){e(2,arguments);var o=t(n),l=t(s),i=a(o,l),d=Math.abs(r(o,l));o.setDate(o.getDate()-i*d);var c=a(o,l)===-i,u=i*(d-c);return 0===u?0:u}function i(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}var d=36e5,c={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},u=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,m=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,g=/^([+-])(\d{2})(?::?(\d{2}))?$/;function p(t,n){e(1,arguments);var s=n||{},o=null==s.additionalDigits?2:i(s.additionalDigits);if(2!==o&&1!==o&&0!==o)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!=typeof t&&"[object String]"!==Object.prototype.toString.call(t))return new Date(NaN);var r,a=y(t);if(a.date){var l=f(a.date,o);r=k(l.restDateString,l.year)}if(isNaN(r)||!r)return new Date(NaN);var d,c=r.getTime(),u=0;if(a.time&&(u=w(a.time),isNaN(u)||null===u))return new Date(NaN);if(!a.timezone){var m=new Date(c+u),g=new Date(0);return g.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),g.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),g}return d=I(a.timezone),isNaN(d)?new Date(NaN):new Date(c+u+d)}function y(e){var t,n={},s=e.split(c.dateTimeDelimiter);if(s.length>2)return n;if(/:/.test(s[0])?(n.date=null,t=s[0]):(n.date=s[0],t=s[1],c.timeZoneDelimiter.test(n.date)&&(n.date=e.split(c.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length))),t){var o=c.timezone.exec(t);o?(n.time=t.replace(o[1],""),n.timezone=o[1]):n.time=t}return n}function f(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),s=e.match(n);if(!s)return{year:null};var o=s[1]&&parseInt(s[1]),r=s[2]&&parseInt(s[2]);return{year:null==r?o:100*r,restDateString:e.slice((s[1]||s[2]).length)}}function k(e,t){if(null===t)return null;var n=e.match(u);if(!n)return null;var s=!!n[4],o=b(n[1]),r=b(n[2])-1,a=b(n[3]),l=b(n[4]),i=b(n[5])-1;if(s)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,l,i)?function(e,t,n){var s=new Date(0);s.setUTCFullYear(e,0,4);var o=7*(t-1)+n+1-(s.getUTCDay()||7);return s.setUTCDate(s.getUTCDate()+o),s}(t,l,i):new Date(NaN);var d=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(v[t]||(h(e)?29:28))}(t,r,a)&&function(e,t){return t>=1&&t<=(h(e)?366:365)}(t,o)?(d.setUTCFullYear(t,r,Math.max(o,a)),d):new Date(NaN)}function b(e){return e?parseInt(e):1}function w(e){var t=e.match(m);if(!t)return null;var n=E(t[1]),s=E(t[2]),o=E(t[3]);return function(e,t,n){return 24===e?0===t&&0===n:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,s,o)?n*d+6e4*s+1e3*o:NaN}function E(e){return e&&parseFloat(e.replace(",","."))||0}function I(e){if("Z"===e)return 0;var t=e.match(g);if(!t)return 0;var n="+"===t[1]?-1:1,s=parseInt(t[2]),o=t[3]&&parseInt(t[3])||0;return function(e,t){return t>=0&&t<=59}(0,o)?n*(s*d+6e4*o):NaN}var v=[31,null,31,30,31,30,31,31,30,31,30,31];function h(e){return e%400==0||e%4==0&&e%100}class D{constructor(e,t,n){this.title=e,this.description=t,this.dueDate=n,this.priority=!1}}const j=(e,t)=>{for(let n of e.taskList){let e=document.createElement("li");e.textContent=n.title;let s=document.createElement("p");s.classList.add("task-description"),s.textContent=n.description,s.style.display="none",e.appendChild(s),e.addEventListener("click",(()=>{"none"==s.style.display?s.style.display="block":s.style.display="none"})),t.appendChild(e);let o=l(p(n.dueDate),new Date);console.log(o)}},N={plus:e=>{e.addEventListener("click",(()=>{T.newForm(),e.style.display="none",document.getElementById("task-button-description").style.display="none"}))},submit:e=>{e.addEventListener("click",(()=>{T.newTask(),document.getElementById("new-task-form").style.display="none",document.getElementById("add-task-button").style.display="block",document.getElementById("task-button-description").style.display="block"}))},cancel:e=>{e.addEventListener("click",(()=>{document.getElementById("new-task-form").style.display="none",document.getElementById("add-task-button").style.display="block",document.getElementById("task-button-description").style.display="block"}))}};let B;const T={button:e=>{let t=document.getElementById("add-task-button");t.style.display="block",document.getElementById("task-button-description").style.display="block",t.project=e,console.log(e)},initButton:()=>{let e=document.getElementById("add-task-button"),t=document.getElementById("new-task-submit"),n=document.getElementById("new-task-cancel");N.submit(t),N.cancel(n),N.plus(e)},newForm:()=>{document.getElementById("new-task-form").style.display="block"},taskWindow:e=>{const t=document.getElementById("task-container");t.innerHTML="";const n=document.createElement("ul");n.id="task-list",j(e,n),t.appendChild(n)},newTask:()=>{let e=document.getElementById("add-task-button").project;if(!e)return;let t=document.getElementById("task-title").value,n=document.getElementById("task-desc").value,s=document.getElementById("due-date").value,o=new D(t,n,s,!1);e.taskList.push(o),(e=>{let t=JSON.parse(sessionStorage.getItem("projects"));console.log("index is "+B),t[B].taskList.push(e),sessionStorage.setItem("projects",JSON.stringify(t))})(o),S(e)},taskHeader:e=>{let t=document.getElementById("task-header");t.style.display="block",t.textContent=e.title}},S=(e,t)=>{B=t,T.taskHeader(e),T.taskWindow(e),T.button(e)},C=T.initButton;class M{constructor(e){this.title=e,this.taskList=[]}addTask=e=>this.taskList.push(e);deleteTask=e=>{this.task.splice(this.indexOf(e),1)};static list}const L=e=>{e.addEventListener("click",(()=>{S(e.project,e.projectIndex)}))},F={plus:e=>{e.addEventListener("click",(()=>{U.newForm(),e.style.display="none"}))},submit:e=>{e.addEventListener("click",(()=>{console.log("submit"),U.newProject(),document.getElementById("new-project-form").style.display="none",document.getElementById("add-project-button").style.display="block"}))},cancel:e=>{e.addEventListener("click",(()=>{console.log("cancel"),document.getElementById("new-project-form").style.display="none",document.getElementById("add-project-button").style.display="block"}))}},U=(()=>{const e=document.getElementById("project-list"),t=t=>{M.list=t,e.innerHTML="";for(let n of t){let s=document.createElement("li");s.textContent=n.title,s.project=n,s.projectIndex=t.indexOf(n),L(s),e.appendChild(s)}};return{projectList:t,addButton:()=>{let e=document.getElementById("add-project-button"),t=document.getElementById("new-project-submit"),n=document.getElementById("new-project-cancel");F.plus(e),F.submit(t),F.cancel(n),C()},newForm:()=>{document.getElementById("new-project-form").style.display="block"},newProject:()=>{let e=document.getElementById("project-title").value,n=new M(e);console.log(e),M.list.push(n),sessionStorage.setItem("projects",JSON.stringify(M.list)),t(M.list)}}})(),x=U.projectList,H=U.addButton;let O=[];O=JSON.parse(sessionStorage.getItem("projects"));const Y=new M("First Project");O||(O=[Y],sessionStorage.setItem("projects",JSON.stringify(O))),console.log(sessionStorage.getItem("projects")),console.log(O),H(),x(O)})();